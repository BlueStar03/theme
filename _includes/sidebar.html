<aside class="sidebar collapsed" id="sidebar">
    <div class="panel-spacer site-title-spacer">
  <a href="{{ '/' | relative_url }}" class="site-title">{{ site.title }}</a>
</div>

    <!-- Dynamic navigation -->
     <!--
    
    <nav>
        <ul>
            {% for item in site.nav %}
                <li>
                    <a href="{{ item.url | relative_url }}">{{ item.title }}</a>
                </li>
            {% endfor %}
        </ul>
    </nav> -->

<nav>
  {% assign docs_sorted = site.docs | sort: "path" %}

  {%- comment -%}
  Custom grouping:
  - If path has 2 segments (["_docs", "file.md"]), it's a root file.
  - If path has 3+ segments (["_docs", "folder", "file.md"]), group by segment 2.
  {%- endcomment -%}

  <ul class="sidebar-nav">
    {%- assign root_docs = "" | split: "" -%}
    {%- assign folders = "" | split: "" -%}

    {% for doc in docs_sorted %}
      {% assign parts = doc.path | split:'/' %}
      {% if parts.size > 2 %}
        {%- assign folder = parts[1] -%}
        {%- assign folders = folders | push: folder -%}
      {% else %}
        {%- assign root_docs = root_docs | push: doc -%}
      {% endif %}
    {% endfor %}

    {%- assign folders = folders | uniq | sort -%}

    {# Root-level files #}
    {% assign root_sorted = root_docs | sort: "order" %}
    {% for doc in root_sorted %}
      <li>
        <a href="{{ doc.url | relative_url }}">{{ doc.title | default: doc.basename }}</a>
      </li>
    {% endfor %}

    {# Folders #}
    {% for folder in folders %}
      <li class="folder collapsed">
        <button class="folder-title" type="button">{{ folder | capitalize }}</button>
        <ul class="folder-items">
          {% assign folder_docs = site.docs | where_exp: "d", "d.path contains '/" | append: folder | append: "/'" | sort: 'order' %}
          {% for doc in folder_docs %}
            <li>
              <a href="{{ doc.url | relative_url }}">{{ doc.title | default: doc.basename }}</a>
            </li>
          {% endfor %}
        </ul>
      </li>
    {% endfor %}
  </ul>
</nav>





    <!-- Footer with social icons -->
    <div class="panel-footer">
        {% if site.social %}
  {% for item in site.social %}
    <a href="{{ item.url }}" target="_blank" title="{{ item.title }}">
      <i class="{{ item.icon }}"></i>
    </a>
  {% endfor %}
  {% endif %}
  <p>Version 1.0<br>&copy; {{ site.time | date: "%Y" }} {{ site.title }}</p>
</div>

</aside>